Skills: [
  {
    Id: "ntrpg:wrestle"
    Handler: "custom"
    Types: [
      AOE,
      PHYSICAL
    ]
    Damage-Type: PHYSICAL
    # Start of skill main logic
    Spell: [
      # Start of scope
      {

        # Target-Selector brings "target" variable into scope (ie we can reference "target" variable anywhere below, until current scope is closed)
        # Target-Selector nearby_enemies searches for all entities that caster can damage at the moment of casting
        Target-Selector: "nearby_enemies radius=settings.range"
        # Parameters for target selector. Target selector nearby_entities requires a single parameter - a radius around player where the entities will be searched for
        # By default it requires to have setup settings.radius but we can override it by using Params
        # Params: [ "settings.range" ] means that the parameter MUST be configured in skilltrees in skill settings section,

        # Mechanics basically a section that tells us what to do with each target/entity
        Mechanics: [
          {
            # if a caster can damage the target
            If: damage_check
            # then
            Then: [
              # apply_effect effect having duration of X to the target (where X is skill settings node "effect_duration")
              {
                Type: "apply_effect effect=Effect(StunEffect, target, settings.effect_duration)"
              }
              # , check if damage is configured (again check the skillsettings if damage > 0)
              {
                If: "# settings.damage > 0"
                Then: [
                  # and eventually damage the target
                  {
                    Type: damage
                  }
                ]
              }
            ]
          }
        ]
        #End of scope
      }
      #End of skill logic
    ]

  }
  {
    Id: "ntrpg:stun"
    Handler: "custom"
    Types: [
      PHYSICAL
    ]
    Damage-Type: PHYSICAL
    #   Supertype Target makes the skill targetedable to entity, if there is also Damage-Type present, then the "target" is always an entity that the caster may damage
    Supertype: Targeted
    Spell: [
      {
        Mechanics: [
          {
            Type: "apply_effect effect=Effect(StunEffect, target, settings.effect_duration)"
          }
          {
            If: "# settings.damage > 0"
            Then: [
              {
                Type: damage
              }
            ]
          }
        ]
      }
    ]
  }
  {
    Id: "ntrpg:web"
    Handler: "custom"
    Types: [
      PHYSICAL
    ]
    Damage-Type: PHYSICAL
    Supertype: Targeted
    Spell: [
      {
        Mechanics: [
          {
            Type: "apply_effect effect=Effect(WebEffect, target, settings.effect_duration)"
          }
        ]
      }
    ]
  }
  {
    Id: "ntrpg:bandage"
    Handler: custom
    Supertype: Targeted
    Types: [
      HEALING
      PHYSICAL
    ]
    Spell: [
      {
        Mechanics: [
          {
            If: "is_ally"
            Then: [
              {
                Type: "heal_entity"
              }
              {
                Type: "remove_effect effect.name=Bleeding"
              }
            ]
          }
        ]
      }
    ]
  }
  {
    Id: "ntrpg:lightning"
    Handler: custom
    Supertype: Targeted
    Types: [
      LIGHTNING
      ELEMENTAL
      CANNOT_BE_SELF_CASTED
    ]
    Damage-Type: LIGHTNING
    Spell: [
      {
        Mechanics: [
          {
            Type: "damage"
          }
          {
            Type: "spawn_lightning"
          }
        ]
      }
    ]
  }
  {
    Id: "ntrpg:megabolt"
    Handler: custom
    Types: [
      LIGHTNING
      ELEMENTAL
      AOE
    ]
    Damage-Type: LIGHTNING
    Spell: [
      {
        Target-Selector: "nearby_enemies"
        Mechanics: [
          {
            If: damage_check
            Then: [
              {
                Type: "damage"
              }
              {
                Type: "spawn_lightning"
              }
            ]
          }
        ]
      }
    ]
  }
]

